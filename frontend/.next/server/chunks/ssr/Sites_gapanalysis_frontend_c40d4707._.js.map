{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/angie/Sites/gapanalysis/frontend/components/ProtectedRoute.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useAuth } from '@/contexts/AuthContext';\n\ninterface ProtectedRouteProps {\n  children: React.ReactNode;\n  requiredRole?: string;\n}\n\nexport const ProtectedRoute: React.FC<ProtectedRouteProps> = ({ \n  children, \n  requiredRole \n}) => {\n  const { user, isLoading, isAuthenticated } = useAuth();\n  const router = useRouter();\n\n  useEffect(() => {\n    if (!isLoading) {\n      if (!isAuthenticated) {\n        router.push('/auth/login');\n        return;\n      }\n\n      if (requiredRole && user?.role !== requiredRole) {\n        router.push('/dashboard');\n        return;\n      }\n    }\n  }, [isAuthenticated, isLoading, user, requiredRole, router]);\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  if (!isAuthenticated) {\n    return null;\n  }\n\n  if (requiredRole && user?.role !== requiredRole) {\n    return null;\n  }\n\n  return <>{children}</>;\n};\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAWO,MAAM,iBAAgD,CAAC,EAC5D,QAAQ,EACR,YAAY,EACb;IACC,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,eAAe,EAAE,GAAG,IAAA,uKAAO;IACpD,MAAM,SAAS,IAAA,mLAAS;IAExB,IAAA,sPAAS,EAAC;QACR,IAAI,CAAC,WAAW;YACd,IAAI,CAAC,iBAAiB;gBACpB,OAAO,IAAI,CAAC;gBACZ;YACF;YAEA,IAAI,gBAAgB,MAAM,SAAS,cAAc;gBAC/C,OAAO,IAAI,CAAC;gBACZ;YACF;QACF;IACF,GAAG;QAAC;QAAiB;QAAW;QAAM;QAAc;KAAO;IAE3D,IAAI,WAAW;QACb,qBACE,kRAAC;YAAI,WAAU;sBACb,cAAA,kRAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,IAAI,CAAC,iBAAiB;QACpB,OAAO;IACT;IAEA,IAAI,gBAAgB,MAAM,SAAS,cAAc;QAC/C,OAAO;IACT;IAEA,qBAAO;kBAAG;;AACZ","debugId":null}},
    {"offset": {"line": 68, "column": 0}, "map": {"version":3,"sources":["file:///home/angie/Sites/gapanalysis/frontend/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,0MAAO,EAAC,IAAA,iLAAI,EAAC;AACtB","debugId":null}},
    {"offset": {"line": 83, "column": 0}, "map": {"version":3,"sources":["file:///home/angie/Sites/gapanalysis/frontend/components/RoleBasedNavigation.tsx"],"sourcesContent":["'use client';\n\nimport { useAuth } from '@/contexts/AuthContext';\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport { cn } from '@/lib/utils';\n\ninterface NavigationItem {\n  name: string;\n  href: string;\n  roles: string[];\n  icon?: React.ComponentType<{ className?: string }>;\n}\n\nconst navigationItems: NavigationItem[] = [\n  {\n    name: 'Dashboard',\n    href: '/dashboard',\n    roles: ['ADMIN', 'MANAGER', 'COMPLIANCE_OFFICER', 'STAFF'],\n  },\n  {\n    name: 'Requirements',\n    href: '/dashboard/requirements',\n    roles: ['ADMIN', 'MANAGER', 'COMPLIANCE_OFFICER', 'STAFF'],\n  },\n  {\n    name: 'Gap Analysis',\n    href: '/dashboard/gap-analysis',\n    roles: ['ADMIN', 'MANAGER', 'COMPLIANCE_OFFICER', 'STAFF'],\n  },\n  {\n    name: 'Action Plans',\n    href: '/dashboard/action-plans',\n    roles: ['ADMIN', 'MANAGER', 'COMPLIANCE_OFFICER', 'STAFF'],\n  },\n  {\n    name: 'Risk Register',\n    href: '/dashboard/risks',\n    roles: ['ADMIN', 'MANAGER', 'COMPLIANCE_OFFICER', 'STAFF'],\n  },\n  {\n    name: 'Schedules',\n    href: '/dashboard/schedules',\n    roles: ['ADMIN', 'MANAGER', 'COMPLIANCE_OFFICER', 'STAFF'],\n  },\n  {\n    name: 'Evidence',\n    href: '/dashboard/evidence',\n    roles: ['ADMIN', 'MANAGER', 'COMPLIANCE_OFFICER', 'STAFF'],\n  },\n  {\n    name: 'User Management',\n    href: '/dashboard/user-management',\n    roles: ['ADMIN'],\n  },\n  {\n    name: 'System Administration',\n    href: '/dashboard/super-admin',\n    roles: ['SUPER_ADMIN'],\n  },\n  {\n    name: 'Profile',\n    href: '/dashboard/profile',\n    roles: ['ADMIN', 'MANAGER', 'COMPLIANCE_OFFICER', 'STAFF'],\n  },\n];\n\ninterface RoleBasedNavigationProps {\n  className?: string;\n}\n\nexport function RoleBasedNavigation({ className }: RoleBasedNavigationProps) {\n  const { user } = useAuth();\n  const pathname = usePathname();\n\n  if (!user) return null;\n\n  const filteredItems = navigationItems.filter(item => \n    item.roles.includes(user.role)\n  );\n\n  return (\n    <nav className={cn('space-y-1', className)}>\n      {filteredItems.map((item) => {\n        const isActive = pathname === item.href;\n        return (\n          <Link\n            key={item.name}\n            href={item.href}\n            className={cn(\n              'group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors',\n              isActive\n                ? 'bg-blue-100 text-blue-700'\n                : 'text-gray-600 hover:bg-gray-50 hover:text-gray-900'\n            )}\n          >\n            {item.icon && (\n              <item.icon\n                className={cn(\n                  'mr-3 h-5 w-5 flex-shrink-0',\n                  isActive ? 'text-blue-500' : 'text-gray-400 group-hover:text-gray-500'\n                )}\n              />\n            )}\n            {item.name}\n          </Link>\n        );\n      })}\n    </nav>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAcA,MAAM,kBAAoC;IACxC;QACE,MAAM;QACN,MAAM;QACN,OAAO;YAAC;YAAS;YAAW;YAAsB;SAAQ;IAC5D;IACA;QACE,MAAM;QACN,MAAM;QACN,OAAO;YAAC;YAAS;YAAW;YAAsB;SAAQ;IAC5D;IACA;QACE,MAAM;QACN,MAAM;QACN,OAAO;YAAC;YAAS;YAAW;YAAsB;SAAQ;IAC5D;IACA;QACE,MAAM;QACN,MAAM;QACN,OAAO;YAAC;YAAS;YAAW;YAAsB;SAAQ;IAC5D;IACA;QACE,MAAM;QACN,MAAM;QACN,OAAO;YAAC;YAAS;YAAW;YAAsB;SAAQ;IAC5D;IACA;QACE,MAAM;QACN,MAAM;QACN,OAAO;YAAC;YAAS;YAAW;YAAsB;SAAQ;IAC5D;IACA;QACE,MAAM;QACN,MAAM;QACN,OAAO;YAAC;YAAS;YAAW;YAAsB;SAAQ;IAC5D;IACA;QACE,MAAM;QACN,MAAM;QACN,OAAO;YAAC;SAAQ;IAClB;IACA;QACE,MAAM;QACN,MAAM;QACN,OAAO;YAAC;SAAc;IACxB;IACA;QACE,MAAM;QACN,MAAM;QACN,OAAO;YAAC;YAAS;YAAW;YAAsB;SAAQ;IAC5D;CACD;AAMM,SAAS,oBAAoB,EAAE,SAAS,EAA4B;IACzE,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,uKAAO;IACxB,MAAM,WAAW,IAAA,qLAAW;IAE5B,IAAI,CAAC,MAAM,OAAO;IAElB,MAAM,gBAAgB,gBAAgB,MAAM,CAAC,CAAA,OAC3C,KAAK,KAAK,CAAC,QAAQ,CAAC,KAAK,IAAI;IAG/B,qBACE,kRAAC;QAAI,WAAW,IAAA,sJAAE,EAAC,aAAa;kBAC7B,cAAc,GAAG,CAAC,CAAC;YAClB,MAAM,WAAW,aAAa,KAAK,IAAI;YACvC,qBACE,kRAAC,2MAAI;gBAEH,MAAM,KAAK,IAAI;gBACf,WAAW,IAAA,sJAAE,EACX,sFACA,WACI,8BACA;;oBAGL,KAAK,IAAI,kBACR,kRAAC,KAAK,IAAI;wBACR,WAAW,IAAA,sJAAE,EACX,8BACA,WAAW,kBAAkB;;;;;;oBAIlC,KAAK,IAAI;;eAjBL,KAAK,IAAI;;;;;QAoBpB;;;;;;AAGN","debugId":null}},
    {"offset": {"line": 232, "column": 0}, "map": {"version":3,"sources":["file:///home/angie/Sites/gapanalysis/frontend/app/dashboard/layout.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport { \n  Shield, \n  LogOut,\n  Menu,\n  X,\n  Bell,\n  Search\n} from 'lucide-react';\nimport { ProtectedRoute } from '@/components/ProtectedRoute';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { RoleBasedNavigation } from '@/components/RoleBasedNavigation';\n\n// Navigation is now handled by RoleBasedNavigation component\n\nexport default function DashboardLayout({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n  const pathname = usePathname();\n  const { user, logout } = useAuth();\n\n  const handleLogout = async () => {\n    await logout();\n  };\n\n  return (\n    <ProtectedRoute>\n      <div className=\"min-h-screen bg-gray-50\">\n      {/* Mobile sidebar */}\n      <div className={`fixed inset-0 z-50 lg:hidden ${sidebarOpen ? 'block' : 'hidden'}`}>\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-75\" onClick={() => setSidebarOpen(false)} />\n        <div className=\"fixed inset-y-0 left-0 flex w-64 flex-col bg-white shadow-xl\">\n          <div className=\"flex h-16 items-center justify-between px-4\">\n            <div className=\"flex items-center space-x-2\">\n              <Shield className=\"h-8 w-8 text-blue-600\" />\n              <span className=\"text-xl font-bold text-gray-900\">GapAnalysis Pro</span>\n            </div>\n            <button\n              onClick={() => setSidebarOpen(false)}\n              className=\"text-gray-400 hover:text-gray-600\"\n            >\n              <X className=\"h-6 w-6\" />\n            </button>\n          </div>\n          <div className=\"flex-1 px-4 py-4\">\n            <RoleBasedNavigation />\n          </div>\n        </div>\n      </div>\n\n      {/* Desktop sidebar */}\n      <div className=\"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col\">\n        <div className=\"flex flex-col flex-grow bg-white border-r border-gray-200\">\n          <div className=\"flex h-16 items-center px-4\">\n            <div className=\"flex items-center space-x-2\">\n              <Shield className=\"h-8 w-8 text-blue-600\" />\n              <span className=\"text-xl font-bold text-gray-900\">GapAnalysis Pro</span>\n            </div>\n          </div>\n          <div className=\"flex-1 px-4 py-4\">\n            <RoleBasedNavigation />\n          </div>\n          <div className=\"p-4 border-t border-gray-200\">\n            <div className=\"flex items-center space-x-3\">\n              <div className=\"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center\">\n                <span className=\"text-white text-sm font-medium\">\n                  {user?.firstName?.[0]}{user?.lastName?.[0]}\n                </span>\n              </div>\n              <div className=\"flex-1 min-w-0\">\n                <p className=\"text-sm font-medium text-gray-900 truncate\">\n                  {user?.firstName} {user?.lastName}\n                </p>\n                <p className=\"text-xs text-gray-500 truncate\">{user?.role}</p>\n              </div>\n              <button \n                onClick={handleLogout}\n                className=\"text-gray-400 hover:text-gray-600\"\n                title=\"Logout\"\n              >\n                <LogOut className=\"h-5 w-5\" />\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Main content */}\n      <div className=\"lg:pl-64\">\n        {/* Top navigation */}\n        <div className=\"sticky top-0 z-40 bg-white border-b border-gray-200\">\n          <div className=\"flex h-16 items-center justify-between px-4 sm:px-6 lg:px-8\">\n            <div className=\"flex items-center\">\n              <button\n                onClick={() => setSidebarOpen(true)}\n                className=\"text-gray-400 hover:text-gray-600 lg:hidden\"\n              >\n                <Menu className=\"h-6 w-6\" />\n              </button>\n              <div className=\"ml-4 lg:ml-0\">\n                <h1 className=\"text-2xl font-semibold text-gray-900\">\n                  Dashboard\n                </h1>\n              </div>\n            </div>\n            \n            <div className=\"flex items-center space-x-4\">\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n                <input\n                  type=\"text\"\n                  placeholder=\"Search...\"\n                  className=\"pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm text-black placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n              \n              <button className=\"relative p-2 text-gray-400 hover:text-gray-600\">\n                <Bell className=\"h-6 w-6\" />\n                <span className=\"absolute top-0 right-0 h-2 w-2 bg-red-500 rounded-full\"></span>\n              </button>\n              \n              <Link href=\"/dashboard/profile\" className=\"flex items-center space-x-3 hover:bg-gray-50 rounded-lg p-2 -m-2 transition-colors\">\n                <div className=\"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center\">\n                  <span className=\"text-white text-sm font-medium\">\n                    {user?.firstName?.[0]}{user?.lastName?.[0]}\n                  </span>\n                </div>\n                <div className=\"hidden sm:block\">\n                  <p className=\"text-sm font-medium text-gray-900\">\n                    {user?.firstName} {user?.lastName}\n                  </p>\n                  <p className=\"text-xs text-gray-500\">{user?.role}</p>\n                </div>\n              </Link>\n            </div>\n          </div>\n        </div>\n\n        {/* Page content */}\n        <main className=\"p-4 sm:p-6 lg:p-8\">\n          {children}\n        </main>\n      </div>\n    </div>\n    </ProtectedRoute>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AAfA;;;;;;;;;AAmBe,SAAS,gBAAgB,EACtC,QAAQ,EAGT;IACC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,qPAAQ,EAAC;IAC/C,MAAM,WAAW,IAAA,qLAAW;IAC5B,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,IAAA,uKAAO;IAEhC,MAAM,eAAe;QACnB,MAAM;IACR;IAEA,qBACE,kRAAC,mLAAc;kBACb,cAAA,kRAAC;YAAI,WAAU;;8BAEf,kRAAC;oBAAI,WAAW,CAAC,6BAA6B,EAAE,cAAc,UAAU,UAAU;;sCAChF,kRAAC;4BAAI,WAAU;4BAA0C,SAAS,IAAM,eAAe;;;;;;sCACvF,kRAAC;4BAAI,WAAU;;8CACb,kRAAC;oCAAI,WAAU;;sDACb,kRAAC;4CAAI,WAAU;;8DACb,kRAAC,oPAAM;oDAAC,WAAU;;;;;;8DAClB,kRAAC;oDAAK,WAAU;8DAAkC;;;;;;;;;;;;sDAEpD,kRAAC;4CACC,SAAS,IAAM,eAAe;4CAC9B,WAAU;sDAEV,cAAA,kRAAC,qOAAC;gDAAC,WAAU;;;;;;;;;;;;;;;;;8CAGjB,kRAAC;oCAAI,WAAU;8CACb,cAAA,kRAAC,6LAAmB;;;;;;;;;;;;;;;;;;;;;;8BAM1B,kRAAC;oBAAI,WAAU;8BACb,cAAA,kRAAC;wBAAI,WAAU;;0CACb,kRAAC;gCAAI,WAAU;0CACb,cAAA,kRAAC;oCAAI,WAAU;;sDACb,kRAAC,oPAAM;4CAAC,WAAU;;;;;;sDAClB,kRAAC;4CAAK,WAAU;sDAAkC;;;;;;;;;;;;;;;;;0CAGtD,kRAAC;gCAAI,WAAU;0CACb,cAAA,kRAAC,6LAAmB;;;;;;;;;;0CAEtB,kRAAC;gCAAI,WAAU;0CACb,cAAA,kRAAC;oCAAI,WAAU;;sDACb,kRAAC;4CAAI,WAAU;sDACb,cAAA,kRAAC;gDAAK,WAAU;;oDACb,MAAM,WAAW,CAAC,EAAE;oDAAE,MAAM,UAAU,CAAC,EAAE;;;;;;;;;;;;sDAG9C,kRAAC;4CAAI,WAAU;;8DACb,kRAAC;oDAAE,WAAU;;wDACV,MAAM;wDAAU;wDAAE,MAAM;;;;;;;8DAE3B,kRAAC;oDAAE,WAAU;8DAAkC,MAAM;;;;;;;;;;;;sDAEvD,kRAAC;4CACC,SAAS;4CACT,WAAU;4CACV,OAAM;sDAEN,cAAA,kRAAC,wPAAM;gDAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8BAQ5B,kRAAC;oBAAI,WAAU;;sCAEb,kRAAC;4BAAI,WAAU;sCACb,cAAA,kRAAC;gCAAI,WAAU;;kDACb,kRAAC;wCAAI,WAAU;;0DACb,kRAAC;gDACC,SAAS,IAAM,eAAe;gDAC9B,WAAU;0DAEV,cAAA,kRAAC,8OAAI;oDAAC,WAAU;;;;;;;;;;;0DAElB,kRAAC;gDAAI,WAAU;0DACb,cAAA,kRAAC;oDAAG,WAAU;8DAAuC;;;;;;;;;;;;;;;;;kDAMzD,kRAAC;wCAAI,WAAU;;0DACb,kRAAC;gDAAI,WAAU;;kEACb,kRAAC,oPAAM;wDAAC,WAAU;;;;;;kEAClB,kRAAC;wDACC,MAAK;wDACL,aAAY;wDACZ,WAAU;;;;;;;;;;;;0DAId,kRAAC;gDAAO,WAAU;;kEAChB,kRAAC,8OAAI;wDAAC,WAAU;;;;;;kEAChB,kRAAC;wDAAK,WAAU;;;;;;;;;;;;0DAGlB,kRAAC,2MAAI;gDAAC,MAAK;gDAAqB,WAAU;;kEACxC,kRAAC;wDAAI,WAAU;kEACb,cAAA,kRAAC;4DAAK,WAAU;;gEACb,MAAM,WAAW,CAAC,EAAE;gEAAE,MAAM,UAAU,CAAC,EAAE;;;;;;;;;;;;kEAG9C,kRAAC;wDAAI,WAAU;;0EACb,kRAAC;gEAAE,WAAU;;oEACV,MAAM;oEAAU;oEAAE,MAAM;;;;;;;0EAE3B,kRAAC;gEAAE,WAAU;0EAAyB,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sCAQtD,kRAAC;4BAAK,WAAU;sCACb;;;;;;;;;;;;;;;;;;;;;;;AAMX","debugId":null}}]
}